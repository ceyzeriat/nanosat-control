[{"number": 1, "desc": "Picsat receives a message (10 chars) and replies with the same message", "subsystem": "obc", "name": "echo", "pid": "l0commanager", "lparam": 10, "param": [["message", "message", "0_255", "str", "10", "ASCII"]]}, {"number": 2, "desc": "Manually load the l1 level", "subsystem": "obc", "name": "loadL1", "pid": "l0commanager", "lparam": 5, "param": [["loadL1Source", "loadL1Source", "0_3", "uint8", "1", ""], ["param", "a Gericos parameter of l1AppDefine() named `param`, usage: a complete mystery", "*", "uint32", "1", ""]]}, {"number": 3, "desc": "Triggers transmission of all l0 HK", "subsystem": "all_l0", "name": "getL0Hk", "pid": "l0housekeeper", "lparam": 1, "param": [["part", "part of the L0 HK to get (part1 or part2)", "1_2", "uint8", "1", ""]]}, {"number": 4, "desc": "gets the RTC date (unix time in seconds)", "subsystem": "obc", "name": "getRtc", "pid": "l0commanager", "lparam": 0, "param": []}, {"number": 5, "desc": "Sets the RTC date (unix time in seconds) and resets the cpuTickCount to prevent bugs on timeTag values", "subsystem": "obc", "name": "setRtc", "pid": "l0commanager", "lparam": 4, "param": [["posixTime", "posix time (unix), in secs since 1 Jan 1970", "1261440000_1890000000", "uint32", "1", "seconds"]]}, {"number": 6, "desc": "count the number of fram log entries (using the sdram log copy), with funErrCode between funErrMin and funErrMax included, and with fileCrcCode = fileCrc", "subsystem": "obc", "name": "countFramLogEntries", "pid": "l0commanager", "lparam": 9, "param": [["funErrMin", "minimum function err code for search (entire int16 range is allowed: -32,768 to 32,767)", "*", "int16", "1", ""], ["funErrMax", "maximum function err code for search (entire int16 range is allowed:-32,768 to 32,767)", "*", "int16", "1", ""], ["fileCrc", "file CRC code for search", "*", "uint32", "1", ""], ["crcFilterEnable", "if set to 0, any CRC is accepted", "0_1", "uint8", "1", ""]]}, {"number": 10, "desc": "Use I2C to forward a commad to a subsystem, directly on the I2C address", "subsystem": "obc", "name": "i2cWrite", "pid": "l0commanager", "lparam": "*", "param": [["address", "I2C address", "*", "int32", "1", ""], ["busDataSize", "allowed values: 1;(TCPACKET_MAX_DATA_SIZE-6)", "*", "uint16", "1", ""], ["busData", "uint8[busDataSize]", "*", "uint8", "*", ""]]}, {"number": 11, "desc": "Use I2C to forward a commad to a subsystem, directly on the I2C address, then reads I2C after a delay and emits the reply in a telemetry", "subsystem": "obc", "name": "i2cWriteRead", "pid": "l0commanager", "lparam": "*", "param": [["address", "I2C address", "*", "int32", "1", ""], ["writeDataSize", "allowed values 1;(TCPACKET_MAX_DATA_SIZE-12)", "*", "uint16", "1", ""], ["readDataSize", "allowed values 1;(TMPACKET_MAX_DATA_SIZE)", "*", "uint16", "1", ""], ["writeReadDelay", "write => read vTaskDelay in number of ticks", "*", "uint32", "1", "number_of_ticks"], ["writeData", "uint8[writeDataSize]", "*", "uint8", "*", ""]]}, {"number": 12, "desc": "Soft reboot OBC", "subsystem": "obc", "name": "softRebootObc", "pid": "l0commanager", "lparam": 0, "param": []}, {"number": 13, "desc": "Hard reboot OBC", "subsystem": "obc", "name": "hardRebootObc", "pid": "l0commanager", "lparam": 0, "param": []}, {"number": 14, "desc": "Soft reboot EPS", "subsystem": "eps", "name": "softRebootEps", "pid": "l0epsmanager", "lparam": 0, "param": []}, {"number": 15, "desc": "Hard reboot EPS", "subsystem": "eps", "name": "hardRebootEps", "pid": "l0epsmanager", "lparam": 0, "param": []}, {"number": 16, "desc": "Kicks the Eps dedicated watchdog (P>1h, 1 kick on each pass recommanded)", "subsystem": "eps", "name": "kickEpsDedicatedWatchdog", "pid": "l0epsmanager", "lparam": 0, "param": []}, {"number": 17, "desc": "emits the last nEntries logEntries in the fram log", "subsystem": "obc", "name": "emitLastFramLogEntries", "pid": "l0commanager", "lparam": 2, "param": [["nEntries", "number of entries to emit", "1_100", "uint16", "1", ""]]}, {"number": 18, "desc": "re-emits the last nEntries events preivously reported", "subsystem": "obc", "name": "emitLastEventReports", "pid": "l0commanager", "lparam": 2, "param": [["nEntries", "number of event to re-emit", "1_100", "uint16", "1", ""]]}, {"number": 19, "desc": "emits an test event report frame with the error code (EC_baseTestErrorCode = 1000)+errorCodeOffset", "subsystem": "obc", "name": "emitTestEventReport", "pid": "l0commanager", "lparam": 1, "param": [["errorCodeOffset", "test error code offset", "0_255", "uint8", "1", ""]]}, {"number": 20, "desc": "adds a test entry into the fram log with the error code (EC_baseTestErrorCode = 1000)+errorCodeOffset", "subsystem": "obc", "name": "logFramLogTestEntry", "pid": "l0commanager", "lparam": 1, "param": [["errorCodeOffset", "test error code offset", "0_255", "uint8", "1", ""]]}, {"number": 21, "desc": "for all available different numerical types, onboard printf of the param values.Return as data the values of each param (endianess conversions check)", "subsystem": "obc", "name": "paramDataValueCheck", "pid": "l0commanager", "lparam": 30, "param": [["testUint8", "testUint8", "*", "uint8", "1", ""], ["testInt8", "testInt8", "*", "int8", "1", ""], ["testUint16", "testUint16", "*", "uint16", "1", ""], ["testInt16", "testInt16", "*", "int16", "1", ""], ["testUint32", "testUint32", "*", "uint32", "1", ""], ["testInt32", "testInt32", "*", "int32", "1", ""], ["testUint64", "testUint64", "*", "uint64", "1", ""], ["testInt64", "testInt64", "*", "int64", "1", ""]]}, {"number": 24, "desc": "initialize the sd cards file system. Also takes care of the physical powering/initialization of the sd cards (init step 1)", "subsystem": "s_card", "name": "sdCardsForceFileSystemInit", "pid": "l0sdcardmanager", "lparam": 0, "param": []}, {"number": 25, "desc": "initialize the sd cards file system if not already initialized. Also takes care of the physical powering/initialization of the sd cards (init step 1)", "subsystem": "sd_card", "name": "sdCardsFileSystemInit", "pid": "l0sdcardmanager", "lparam": 0, "param": []}, {"number": 26, "desc": "initialize the file system on the selected sd card (init step 2)", "subsystem": "sd_card", "name": "sdCardInitVolume", "pid": "l0sdcardmanager", "lparam": 1, "param": [["sdCardSelect", "sd card select (0 or 1)", "0_1", "uint8", "1", ""]]}, {"number": 27, "desc": "format the selected partition in the active sd card (defined at the sdCardInitVolume step)", "subsystem": "sd_card", "name": "sdCardFormat", "pid": "l0sdcardmanager", "lparam": 1, "param": [["partitionSelect", "current formatiing allow only one parition (=> partitionSelect = 0)", "*", "uint8", "1", ""]]}, {"number": 28, "desc": "file test on the selected sd card: creates / writes / reads / deletes a test file", "subsystem": "sd_card", "name": "sdCardFileTest", "pid": "l0sdcardmanager", "lparam": 1, "param": [["sdCardSelect", "sd card select (0 or 1)", "0_1", "uint8", "1", ""]]}, {"number": 30, "desc": "resends the last 3 execution acknowledges", "subsystem": "obc", "name": "getLast3AckExec", "pid": "l0commanager", "lparam": 0, "param": []}, {"number": 31, "desc": "sets the value of the uint8 fram flag identified by index", "subsystem": "obc", "name": "setUint8L0Flag", "pid": "l0memorymanager", "lparam": 3, "param": [["index", "index of flag", "*", "uint8", "1", ""], ["flagScope", "flagScope (0: fram, 1: fram+sdram, 2: sdram)", "0_2", "uint8", "1", ""], ["flagValue", "flag value", "*", "uint8", "1", ""]]}, {"number": 32, "desc": "returns the value of the uint8 fram flag identified by index", "subsystem": "obc", "name": "getUint8L0Flag", "pid": "l0memorymanager", "lparam": 2, "param": [["index", "index of flag", "*", "uint8", "1", ""], ["flagScope", "flagScope (0: fram, 2: sdram)", "0_2", "uint8", "1", ""]]}, {"number": 33, "desc": "sets the FRAM flag area to 0xFF, this also sets all the flag values to their default values", "subsystem": "obc", "name": "resetAllFramFlags", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 34, "desc": "clears fram log entirely, all values are set of 0xFF (~30 sec exec time)", "subsystem": "obc", "name": "clearFramLog", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 35, "desc": "clears fram log counter values, all values are set of 0xFF (~3 sec exec time). Fram log should be considered empty aftre this command.", "subsystem": "obc", "name": "clearFramLogCounters", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 40, "desc": "Stop the execution of all dumps running in background", "subsystem": "obc", "name": "abortAllDumps", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 41, "desc": "Triggers transmission of the norflash content between start_address and start_address+bytes_number to ground for verification (for patching)Return telemetry: data dumped", "subsystem": "obc", "name": "StartDumpNorflashRange", "pid": "l0memorymanager", "lparam": 8, "param": [["startAddress", "", "0_0x100000", "uint32", "1", ""], ["bytesNumber", "", "0_0x100000", "uint32", "1", ""]]}, {"number": 42, "desc": "Triggers transmission of the FRAM content between start_address and start_address+bytes_numberReturn telemetry: data dumped", "subsystem": "obc", "name": "StartDumpFram", "pid": "l0memorymanager", "lparam": 8, "param": [["startAddress", "", "0_0x3FFFF", "uint32", "1", ""], ["bytesNumber", "", "0_0x3FFFF", "uint32", "1", ""]]}, {"number": 43, "desc": "Triggers transmission of the SDRAM content between start_address and start_address+bytes_number to ground for verification. Can be used to check any variable value or buffer value with it's address from map.txtReturn telemetry: data dumped", "subsystem": "obc", "name": "StartDumpAnySdramRange", "pid": "l0memorymanager", "lparam": 8, "param": [["startAddress", "", "0_0xFFFFFFFF", "uint32", "1", ""], ["bytesNumber", "", "0_0xFFFFFFFF", "uint32", "1", ""]]}, {"number": 44, "desc": "Triggers transmission of the SDCard Primary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Return telemetry: data dumped", "subsystem": "obc", "name": "StartDumpSdCardL1PriRange", "pid": "l0memorymanager", "lparam": 8, "param": [["startAddress", "", "0_0x400000", "uint32", "1", ""], ["bytesNumber", "", "0_0x400000", "uint32", "1", ""]]}, {"number": 45, "desc": "Triggers transmission of the SDCard Secondary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Return telemetry: data dumped", "subsystem": "obc", "name": "StartDumpSdCardL1SecRange", "pid": "l0memorymanager", "lparam": 8, "param": [["startAddress", "", "0_0x400000", "uint32", "1", ""], ["bytesNumber", "", "0_0x400000", "uint32", "1", ""]]}, {"number": 46, "desc": "Write the SDRAM content on any adress between start_address and start_address+bytes_number.Can be used to modify any variable value or buffer value with it's adress from map.txt", "subsystem": "obc", "name": "writeAnySdramRange", "pid": "l0memorymanager", "lparam": "*", "param": [["startAddress", "", "0_0xFFFFFFFF", "uint32", "1", ""], ["bytesNumber", "allowed values 1;(TCPACKET_MAX_DATA_SIZE-8)", "*", "uint32", "1", ""], ["data", "uint8[bytes_number]", "*", "uint8", "*", ""]]}, {"number": 47, "desc": "Write the FRAM content between start_address and start_address+bytes_numberWith a maximum data size of 212 bytes in a frame, the worst execution time will be around 300 ms", "subsystem": "obc", "name": "writeFramRange", "pid": "l0memorymanager", "lparam": "*", "param": [["startAddress", "", "0_0x3FFFF", "uint32", "1", ""], ["bytesNumber", "allowed values 1;(TCPACKET_MAX_DATA_SIZE-8)", "*", "uint32", "1", ""], ["data", "uint8[bytes_number]", "*", "uint8", "*", ""]]}, {"number": 48, "desc": "Compute the CRC32 on norflash content between start_address and start_address+bytes_number to ground for verification (for patching)Returns Telemetry: CRC32", "subsystem": "obc", "name": "computeCrc32OnNorflashRange", "pid": "l0memorymanager", "lparam": 8, "param": [["targetAddress", "", "0_0x100000", "uint32", "1", ""], ["dataSize", "", "0_0x100000", "uint32", "1", ""]]}, {"number": 49, "desc": "Compute the CRC32 on any SDRAM adress between start_address and start_address+bytes_number to ground for verification (example: Check that a class is properly loaded)Returns Telemetry: CRC32", "subsystem": "obc", "name": "computeCrc32OnAnySdramRange", "pid": "l0memorymanager", "lparam": 8, "param": [["targetAddress", "", "0_0xFFFFFFFF", "uint32", "1", ""], ["dataSize", "", "0_0xFFFFFFFF", "uint32", "1", ""]]}, {"number": 50, "desc": "Compute the CRC32 on SDCard Primary L1 image content between start_address and start_address+bytes_number to ground for verification (for patching)Returns Telemetry: CRC32", "subsystem": "obc", "name": "computeCrc32OnL1SdPriRange", "pid": "l0memorymanager", "lparam": 8, "param": [["targetAddress", "TargetAddress of L1 image on SDCard; 0 Start at &l1AppDefine", "0_0x100000", "uint32", "1", ""], ["dataSize", "", "0_0x100000", "uint32", "1", ""]]}, {"number": 51, "desc": "Compute the CRC32 on SDCard Secondary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Returns Telemetry: CRC32", "subsystem": "obc", "name": "computeCrc32OnL1SdSecRange", "pid": "l0memorymanager", "lparam": 8, "param": [["targetAddress", "TargetAddress of L1 image on SDCard; 0 Start at &l1AppDefine", "0_0x100000", "uint32", "1", ""], ["dataSize", "", "0_0x100000", "uint32", "1", ""]]}, {"number": 52, "desc": "Compute the CRC32 on WHOLE L1 image for selected L1 source.This is used by ground segment for verification (check correct application of patch, and also check \"version\" of L1 currently loaded on satellite)Returns Telemetry: CRC32", "subsystem": "obc", "name": "computeCurrentL1Crc32", "pid": "l0memorymanager", "lparam": 1, "param": [["l1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROSNORFLASH = 0x01,SDCARD_PRI = 0x02,SDCARD_SEC = 0x03,", "1_6", "uint8", "1", ""]]}, {"number": 55, "desc": "Get the expected CRC32 value of L1 for selected L1 source.This value is checked before allowing to load L1 on boot.This value is stored in FRAM.Returns Telemetry: CRC32", "subsystem": "obc", "name": "getFramExpectedL1Crc32", "pid": "l0memorymanager", "lparam": 1, "param": [["l1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROS.NORFLASH = 0x01,SDCARD_PRI = 0x02,SDCARD_SEC = 0x03,", "1_3", "uint8", "1", ""]]}, {"number": 56, "desc": "Set the expected CRC32 of L1 for selected L1 source.This value is checked before allowing to load L1 on boot.This value is stored in FRAM.", "subsystem": "obc", "name": "setFramExpectedL1Crc32", "pid": "l0memorymanager", "lparam": 5, "param": [["l1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROS.NORFLASH = 0x01,SDCARD_PRI = 0x02,SDCARD_SEC = 0x03,", "1_3", "uint8", "1", ""], ["expectedCrc32", "", "*", "uint32", "1", ""]]}, {"number": 61, "desc": "Initialize a L1 patch session and set the number of memory segments contained in the patch. The maximum allowed number of segments is 1024This function shall be called first before patching any memory segment", "subsystem": "obc", "name": "startPatch", "pid": "l0memorymanager", "lparam": 2, "param": [["nbOfSegments", "Total number of segments in the patch", "0_1024", "uint16", "1", ""]]}, {"number": 62, "desc": "Send a memory segment to patch L1 between start_address and start_address+bytes_numberNote: This function only stores the memory segment in a SDRAM buffer when pushed. The effective writing in norflash will be performed by the command: WritePatchToNORFlashThe maximum size of data in Segment is 230 bytes", "subsystem": "obc", "name": "pushMemSegment", "pid": "l0memorymanager", "lparam": "*", "param": [["patchId", "total size=8+n", "0_1024", "uint16", "1", ""], ["targetAdress", "Adress to be patched. Reference: 0=first byte of.bin file.Only adresses of L1 area are allowed to be patched.So the allowed patch adress range is: &l1AppDefine in .bin file until&l1AppDefine in .bin file + SDCARDMAXL1FILESIZE(1024*1024)", "0_0x00180000", "uint32", "1", ""], ["dataSize", "allowed values 1;(TCPACKET_MAX_DATA_SIZE-6)", "*", "uint16", "1", ""], ["data", "uint8[dataSize]", "*", "uint8", "*", ""]]}, {"number": 63, "desc": "Get the status of patch sessionReturn telemetry", "subsystem": "obc", "name": "getPatchState", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 64, "desc": "Get the list of segments ID currently received by the satelliteReturn telemetry", "subsystem": "obc", "name": "getListIdReceivedSegments", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 65, "desc": "Get the list of segments ID missing to perform the patch.Return telemetry", "subsystem": "obc", "name": "getListIdMissingSegments", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 66, "desc": "This function perform the writing of L1 image on source passed as parameter of the previously uploaded memory segmentsRun condition: If all segments are received and CRC32 on datas valid", "subsystem": "obc", "name": "validateAndWritePatch", "pid": "l0memorymanager", "lparam": 5, "param": [["l1Source", "NORFLASH = 0x01,SDCARD_PRI = 0x02,SDCARD_SEC = 0x03,", "0_4", "uint8", "1", ""], ["expectedCrc32", "The expectedCrc32 is computed on the entire L1 image, starting from l1AppDefine, until l1AppDefine+sizeMaxL1SdCard", "0_0xFFFFFFFF", "uint32", "1", ""]]}, {"number": 69, "desc": "Copy L1 image from NORFlash to SdCardPri image file", "subsystem": "obc", "name": "copyNorFlashToSdCardPri", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 70, "desc": "Copy L1 image from NORFlash to SdCardSec image file", "subsystem": "obc", "name": "copyNorFlashToSdCardSec", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 71, "desc": "Copy L1 image from SdCardPri to SdCardSec image file", "subsystem": "obc", "name": "copySdCardPriToSec", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 72, "desc": "Copy L1 image from SdCardSec to SdCardPri image file", "subsystem": "obc", "name": "copySdCardSecToPri", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 80, "desc": "on/off switch for the ADCS 5V power line (gomeps_channel_0)", "subsystem": "adcs", "name": "adcsPowerSwitch", "pid": "l0adcsmanager", "lparam": 1, "param": [["switchVal", "on (true) / off (false) boolean", "0_1", "uint8", "1", ""]]}, {"number": 82, "desc": "", "subsystem": "adcs", "name": "getAdcsMode", "pid": "l0adcsmanager", "lparam": 0, "param": []}, {"number": 83, "desc": "puts the adcs into detumbling mode", "subsystem": "adcs", "name": "adcsStartDetumble", "pid": "l0adcsmanager", "lparam": 4, "param": [["duration", "duration. Value 0xFFFFFFFF triggers permanent detumbling", "", "uint32", "1", "seconds"]]}, {"number": 84, "desc": "stops the detumbling", "subsystem": "adcs", "name": "adcsStopDetumble", "pid": "l0adcsmanager", "lparam": 0, "param": []}, {"number": 36, "desc": "overwrites norflash memory from address=l1AppDefine to the maximum address with 0's", "subsystem": "obc", "name": "resetNorflashL1", "pid": "l0memorymanager", "lparam": 0, "param": []}, {"number": 7, "desc": "Get the solar temperatures. This command is not affected by the l0HkSpEnable flag", "subsystem": "obc", "name": "getSolarPanelTemps", "pid": "l0housekeeper", "lparam": 0, "param": []}, {"number": 73, "desc": "Creates an empty SDCard 1MB image file for L1 image or ADCS image or payload image.If the image file already exists, it is replaced by a 1MB file filled with zeroes .This is same behaviour as c.resetNorflashL1() but for L1 image file on SDCard", "subsystem": "obc", "name": "createSdCardFile", "pid": "l0memorymanager", "lparam": 1, "param": [["l1Source", "NORFLASH = 0x01,SDCARD_PRI = 0x02,SDCARD_SEC = 0x03,SDCARD_ADCS_PRI = 0x04,SDCARD_ADCS_SEC = 0x05,SDCARD_PAYLOAD = 0x06,", "1_6", "uint8", "1", ""]]}, {"number": 8, "desc": "Emits the content of globalStruct.bootError, which contains all system init errors that occurred during boot", "subsystem": "obc", "name": "emitBootError", "pid": "l0commanager", "lparam": 0, "param": []}, {"number": 81, "desc": "sends a command containing \"writeData\" to the adcs via I2C, returns a TM with the reply from the ADCS on the I2C (readData)", "subsystem": "adcs", "name": "sendAdcsCmd", "pid": "l0adcsmanager", "lparam": "*", "param": [["writeDataSize", "allowed values 1;(TCPACKET_MAX_DATA_SIZE-2)", "", "uint8", "1", ""], ["readDataSize", "allowed values 1;(TMPACKET_MAX_DATA_SIZE)", "", "uint8", "1", ""], ["writeReadDelay", "delay between write and read on I2C in ticks", "", "uint16", "1", "ticks"], ["writeData", "uint8[writeDataSize]", "", "uint8", "*", ""]]}, {"number": 23, "pid": "l0commanager", "desc": "Forced deployment of ants systems (override deploy ISIS function), of all antennas", "subsystem": "ants", "name": "forceAntsDeploy", "lparam": 7, "param": [["antsBoardSelect", "0: board0, 1: board1", "0_1", "uint8", "1", ""], ["deployType", "0: overrideDeploy, 1: normalDeploy", "0_1", "uint8", "1", ""], ["sideSelect", "0: sideA / 1: sideB. Side A and B are redundant, and using either shuld have the same effect. In case you are in the dire situation where you need this command, this is a chance parameter. Two telecommands with 0/1 parameter values can be sent successively.", "0_1", "uint8", "1", ""], ["durationAnt1", "duration of burn in seconds for ant1 (0 sec=deactivated)", "0_255", "uint8", "1", ""], ["durationAnt2", "duration of burn in seconds for ant2 (0 sec=deactivated)", "0_255", "uint8", "1", ""], ["durationAnt3", "duration of burn in seconds for ant3 (0 sec=deactivated)", "0_255", "uint8", "1", ""], ["durationAnt4", "duration of burn in seconds for ant4 (0 sec=deactivated)", "0_255", "uint8", "1", ""]]}]