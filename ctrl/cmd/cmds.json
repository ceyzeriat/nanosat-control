[{"subsystem": "pld", "lparam": "*", "name": "flash_write", "pid": "bootloader", "number": 251, "param": [["nbytes", "nbytes", "*", "uint8", "1", ""], ["address", "Start address", "*", "uint32", "1", ""], ["data", "program bytes", "*", "uint8", "1;128", ""], ["crc", "crc on command", "*", "uint32", "1", ""]], "desc": "write in flash"}, {"subsystem": "pld", "lparam": 5, "name": "flash_read", "pid": "bootloader", "number": 250, "param": [["nbytes", "number of bytes to read", "*", "uint8", "1", ""], ["address", "start address", "*", "uint32", "1", ""]], "desc": "read flash"}, {"subsystem": "pld", "lparam": 4, "name": "flash_erase", "pid": "bootloader", "number": 252, "param": [["start_address", "start address for the sector", "*", "uint32", "1", ""]], "desc": "erase sector"}, {"subsystem": "pld", "lparam": 0, "name": "soft_reboot", "pid": "bootloader", "number": 255, "param": [], "desc": "reboot the payload"}, {"subsystem": "pld", "lparam": 0, "name": "launch_application_A", "pid": "bootloader", "number": 253, "param": [], "desc": "jump to application A"}, {"subsystem": "pld", "lparam": 0, "name": "launch_application_B", "pid": "bootloader", "number": 254, "param": [], "desc": "jump to application B"}, {"subsystem": "pld", "lparam": "*", "name": "echo_pld", "pid": "boarddirector", "number": 101, "param": [["message", "message", "*", "uint8", "1;128", ""]], "desc": "Repeats the message received"}, {"subsystem": "pld", "lparam": 4, "name": "move_piezo", "pid": "boarddirector", "number": 102, "param": [["xcom", "command on x axis", "*", "uint16", "1", "adu"], ["ycom", "command on y axis", "*", "uint16", "1", "adu"]], "desc": "move piezo at given position"}, {"subsystem": "pld", "lparam": 1, "name": "hv_switch", "pid": "boarddirector", "number": 103, "param": [["state", "state (on=255 or off=0)", "0,255", "uint8", "1", ""]], "desc": "turn on (255) or off (0) the high voltage transformer"}, {"subsystem": "pld", "lparam": 1, "name": "diode_switch", "pid": "boarddirector", "number": 104, "param": [["state", "state (on=255 or off=0)", "0,255", "uint8", "1", ""]], "desc": "turn on (255) or off (0) the diode"}, {"subsystem": "pld", "lparam": 1, "name": "dac_switch", "pid": "boarddirector", "number": 105, "param": [["state", "state (on=255 or off=0)", "0,255", "uint8", "1", ""]], "desc": "turn on (255) or off (0) the piezo DACs"}, {"subsystem": "pld", "lparam": 1, "name": "tec_switch", "pid": "boarddirector", "number": 106, "param": [["state", "state (on=255 or off=0)", "0,255", "uint8", "1", ""]], "desc": "turn on (255) or off (0) the TEC module"}, {"subsystem": "pld", "lparam": 6, "name": "set_param", "pid": "boarddirector", "number": 107, "param": [["destPid", "destination PID", "1,2,3,4,5,6", "uint8", "1", ""], ["key", "parameter key", "*", "uint8", "1", ""], ["value", "new value", "*", "uint32", "1", ""]], "desc": "set param"}, {"subsystem": "pld", "lparam": 2, "name": "get_param", "pid": "boarddirector", "number": 108, "param": [["destPid", "destination Pid", "1,2,3,4,5,6", "uint8", "1", ""], ["key", "parameter key", "*", "uint8", "1", ""]], "desc": "get param"}, {"subsystem": "pld", "lparam": 1, "name": "change_mode", "pid": "boarddirector", "number": 109, "param": [["mode", "mode (SBY=0, IDL=1, SCI=2, SLV=3, TST=4)", "*", "uint8", "1", ""]], "desc": "transition to given mode"}, {"subsystem": "pld", "lparam": 0, "name": "reset", "pid": "boarddirector", "number": 110, "param": [], "desc": "reset"}, {"subsystem": "pld", "lparam": 4, "name": "set_datetime", "pid": "boarddirector", "number": 111, "param": [["datetime", "date time", "*", "uint32", "1", ""]], "desc": "synchronize date and time with the computer"}, {"subsystem": "pld", "lparam": 6, "name": "start_hk", "pid": "boarddirector", "number": 112, "param": [["flags", "requested hks (flags)", "0;4095", "uint16", "1", ""], ["hkTick", "hk tick value", "*", "uint16", "1", "ms"], ["hkPacketTick", "hk packet tick value", "*", "uint16", "1", "ms"]], "desc": "start automatic transmission of hk data"}, {"subsystem": "pld", "lparam": 0, "name": "stop_hk", "pid": "boarddirector", "number": 113, "param": [], "desc": "stop automatic transmission of hk data"}, {"subsystem": "pld", "lparam": 2, "name": "set_temperature", "pid": "boarddirector", "number": 114, "param": [["value", "setpoint value (approx: 32767 = 14 deg C, 0 = 2 deg C)", "*", "uint16", "1", "adu"]], "desc": "set the tempertaure setpoint of the TEC"}, {"subsystem": "pld", "lparam": 2, "name": "set_integrationTime", "pid": "boarddirector", "number": 115, "param": [["value", "integration time", "*", "uint16", "1", "ms/10"]], "desc": "set the integration time"}, {"subsystem": "pld", "lparam": 2, "name": "set_delay", "pid": "boarddirector", "number": 116, "param": [["value", "delay", "*", "uint16", "1", "ms/10"]], "desc": "set the delay between two integrations"}, {"subsystem": "obc", "lparam": 2, "name": "echo", "pid": "l0commanager", "number": 1, "param": [["message", "message", "32;127", "str", "2", "ASCII"]], "desc": "Picsat receives a message (2 chars) and replies with the same message"}, {"subsystem": "obc", "lparam": 5, "name": "loadL1", "pid": "l0commanager", "number": 2, "param": [["loadL1Source", "loadL1Source", "1;3", "uint8", "1", ""], ["param", "a Gericos parameter of l1AppDefine() named `param`, usage: a complete mystery", "*", "uint32", "1", ""]], "desc": "Manually load the l1 level"}, {"subsystem": "all_l0", "lparam": 0, "name": "getL0Hk", "pid": "l0housekeeper", "number": 3, "param": [], "desc": "Triggers transmission of all l0 HK"}, {"subsystem": "obc", "lparam": 0, "name": "getRtc", "pid": "l0commanager", "number": 4, "param": [], "desc": "gets the RTC date (unix time in seconds)"}, {"subsystem": "obc", "lparam": 5, "name": "setRtc", "pid": "l0commanager", "number": 5, "param": [["year", "Year since 2000 (2000 = 0).", "*", "uint8", "1", "years"], ["secOfYear", "seconds of year", "*", "uint32", "1", "seconds"]], "desc": "Sets the RTC date (unix time in seconds) and resets the cpuTickCount to prevent bugs on timeTag values"}, {"subsystem": "obc", "lparam": "*", "name": "i2cWrite", "pid": "l0commanager", "number": 10, "param": [["address", "I2C address", "*", "int32", "1", ""], ["busDataSize", "", "1;170", "uint16", "1", ""], ["busData", "", "*", "uint8", "1;170", ""]], "desc": "Use I2C to forward a commad to a subsystem, directly on the I2C address"}, {"subsystem": "obc", "lparam": "*", "name": "i2cWriteRead", "pid": "l0commanager", "number": 11, "param": [["address", "I2C address", "*", "int32", "1", ""], ["writeDataSize", "", "1;170", "uint16", "1;164", ""], ["readDataSize", "", "*", "uint16", "1;176", ""], ["writeReadDelay", "", "*", "uint32", "1", "number_of_ticks"], ["writeData", "", "1;164", "uint8", "1;170", ""]], "desc": "Use I2C to forward a commad to a subsystem, directly on the I2C address, then reads I2C after a delay and emits the reply in a telemetry"}, {"subsystem": "obc", "lparam": 0, "name": "softRebootObc", "pid": "l0commanager", "number": 12, "param": [], "desc": "Soft reboot OBC"}, {"subsystem": "obc", "lparam": 0, "name": "hardRebootObc", "pid": "l0commanager", "number": 13, "param": [], "desc": "Hard reboot OBC"}, {"subsystem": "eps", "lparam": 0, "name": "softRebootEps", "pid": "l0epsmanager", "number": 14, "param": [], "desc": "Soft reboot EPS"}, {"subsystem": "eps", "lparam": 0, "name": "hardRebootEps", "pid": "l0epsmanager", "number": 15, "param": [], "desc": "Hard reboot EPS"}, {"subsystem": "obc", "lparam": 2, "name": "emitLastFramLogEntries", "pid": "l0commanager", "number": 16, "param": [["nEntries", "number of entries to emit", "1;100", "uint16", "1", ""]], "desc": "emits the last nEntries logEntries in the fram log"}, {"subsystem": "obc", "lparam": 2, "name": "emitLastEventReports", "pid": "l0commanager", "number": 17, "param": [["nEntries", "number of event to re-emit", "1;100", "uint16", "1", ""]], "desc": "re-emits the last nEntries events preivously reported"}, {"subsystem": "obc", "lparam": 1, "name": "emitTestEventReport", "pid": "l0commanager", "number": 18, "param": [["errorCodeOffset", "test error code offset", "0;255", "uint8", "1", ""]], "desc": "emits an test event report frame with the error code (EC_baseTestErrorCode = 1000)+errorCodeOffset"}, {"subsystem": "obc", "lparam": 1, "name": "logFramLogTestEntry", "pid": "l0commanager", "number": 19, "param": [["errorCodeOffset", "test error code offset", "0;255", "uint8", "1", ""]], "desc": "adds a test entry into the fram log with the error code (EC_baseTestErrorCode = 1000)+errorCodeOffset"}, {"subsystem": "obc", "lparam": 30, "name": "paramDataValueCheck", "pid": "l0commanager", "number": 21, "param": [["testUint8", "testUint8", "*", "uint8", "1", ""], ["testInt8", "testInt8", "*", "int8", "1", ""], ["testUint16", "testUint16", "*", "uint16", "1", ""], ["testInt16", "testInt16", "*", "int16", "1", ""], ["testUint32", "testUint32", "*", "uint32", "1", ""], ["testInt32", "testInt32", "*", "int32", "1", ""], ["testUint64", "testUint64", "*", "uint64", "1", ""], ["testInt64", "testInt64", "*", "int64", "1", ""]], "desc": "for all available different numerical types, onboard printf of the param values.Return as data the values of each param (endianess conversions check)"}, {"subsystem": "ants", "lparam": 0, "name": "forceAntsDeploy", "pid": "l0commanager", "number": 23, "param": [], "desc": "Forced deployment of ants systems (override deploy ISIS function), of all antennas"}, {"subsystem": "s_card", "lparam": 0, "name": "sdCardsForceFileSystemInit", "pid": "l0commanager", "number": 24, "param": [], "desc": "initialize the sd cards file system. Also takes care of the physical powering/initialization of the sd cards (init step 1)"}, {"subsystem": "sd_card", "lparam": 0, "name": "sdCardsFileSystemInit", "pid": "l0commanager", "number": 25, "param": [], "desc": "initialize the sd cards file system if not already initialized. Also takes care of the physical powering/initialization of the sd cards (init step 1)"}, {"subsystem": "sd_card", "lparam": 1, "name": "sdCardInitVolume", "pid": "l0commanager", "number": 26, "param": [["sdCardSelect", "sd card select (0 or 1)", "0;1", "uint8", "1", ""]], "desc": "initialize the file system on the selected sd card (init step 2)"}, {"subsystem": "sd_card", "lparam": 1, "name": "sdCardFormat", "pid": "l0commanager", "number": 27, "param": [["sdCardSelect", "sd card select (0 or 1)", "0;1", "uint8", "1", ""]], "desc": "format the selected partition in the active sd card (defined at the sdCardInitVolume step)"}, {"subsystem": "sd_card", "lparam": 1, "name": "sdCardFileTest", "pid": "l0commanager", "number": 28, "param": [["sdCardSelect", "sd card select (0 or 1)", "0;1", "uint8", "1", ""]], "desc": "file test on the selected sd card: creates / writes / reads / deletes a test file"}, {"subsystem": "obc", "lparam": 0, "name": "getLast3AckExec", "pid": "l0commanager", "number": 30, "param": [], "desc": "resends the last 3 execution acknowledges"}, {"subsystem": "obc", "lparam": 3, "name": "setUint8L0Flag", "pid": "l0memorymanager", "number": 31, "param": [["index", "index of flag", "*", "uint8", "1", ""], ["flagScope", "flagScope (0: fram, 1: fram+sdram, 2: sdram)", "0;2", "uint8", "1", ""], ["flagValue", "flag value", "*", "uint8", "1", ""]], "desc": "sets the value of the uint8 fram flag identified by index"}, {"subsystem": "obc", "lparam": 2, "name": "getUint8L0Flag", "pid": "l0memorymanager", "number": 32, "param": [["index", "index of flag", "*", "uint8", "1", ""], ["flagScope", "flagScope (0: fram, 2: sdram)", "0;2", "uint8", "1", ""]], "desc": "returns the value of the uint8 fram flag identified by index"}, {"subsystem": "obc", "lparam": 0, "name": "resetAllFramFlags", "pid": "l0memorymanager", "number": 33, "param": [], "desc": "sets the FRAM flag area to 0xFF, this also sets all the flag values to their default values"}, {"subsystem": "obc", "lparam": 0, "name": "abortAllDumps", "pid": "l0memorymanager", "number": 40, "param": [], "desc": "Stop the execution of all dumps running in background"}, {"subsystem": "obc", "lparam": 8, "name": "StartDumpNORFLASHRange", "pid": "l0memorymanager", "number": 41, "param": [["start_address", "", "0;0x100000", "uint32", "1", ""], ["bytes_number", "", "0;0x100000", "uint32", "1", ""]], "desc": "Triggers transmission of the norflash content between start_address and start_address+bytes_number to ground for verification (for patching)Return telemetry: data dumped"}, {"subsystem": "obc", "lparam": 8, "name": "StartDumpFRAM", "pid": "l0memorymanager", "number": 42, "param": [["start_address", "", "0;0x3FFFF", "uint32", "1", ""], ["bytes_number", "", "0;0x3FFFF", "uint32", "1", ""]], "desc": "Triggers transmission of the FRAM content between start_address and start_address+bytes_numberReturn telemetry: data dumped"}, {"subsystem": "obc", "lparam": 8, "name": "StartDumpAnySDRAMRange", "pid": "l0memorymanager", "number": 43, "param": [["start_address", "", "0;0xFFFFFFFF", "uint32", "1", ""], ["bytes_number", "", "0;0xFFFFFFFF", "uint32", "1", ""]], "desc": "Triggers transmission of the SDRAM content between start_address and start_address+bytes_number to ground for verification. Can be used to check any variable value or buffer value with it's address from map.txtReturn telemetry: data dumped"}, {"subsystem": "obc", "lparam": 8, "name": "StartDumpSDCardL1PriRange", "pid": "l0memorymanager", "number": 44, "param": [["start_address", "", "0;0x400000", "uint32", "1", ""], ["bytes_number", "", "0;0x400000", "uint32", "1", ""]], "desc": "Triggers transmission of the SDCard Primary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Return telemetry: data dumped"}, {"subsystem": "obc", "lparam": 8, "name": "StartDumpSDCardL1SecRange", "pid": "l0memorymanager", "number": 45, "param": [["start_address", "", "0;0x400000", "uint32", "1", ""], ["bytes_number", "", "0;0x400000", "uint32", "1", ""]], "desc": "Triggers transmission of the SDCard Secondary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Return telemetry: data dumped"}, {"subsystem": "obc", "lparam": 8, "name": "computeCRC32OnNORFLASHRange", "pid": "l0memorymanager", "number": 48, "param": [["TargetAdress", "", "0;0x100000", "uint32", "1", ""], ["DataSize", "", "0;0x100000", "uint32", "1", ""]], "desc": "Compute the CRC32 on norflash content between start_address and start_address+bytes_number to ground for verification (for patching)Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 8, "name": "computeCRC32OnAnySDRAMRange", "pid": "l0memorymanager", "number": 49, "param": [["TargetAdress", "", "0;0xFFFFFFFF", "uint32", "1", ""], ["DataSize", "", "0;0xFFFFFFFF", "uint32", "1", ""]], "desc": "Compute the CRC32 on any SDRAM adress between start_address and start_address+bytes_number to ground for verification (example: Check that a class is properly loaded)Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 8, "name": "computeCRC32OnL1SDPriRange", "pid": "l0memorymanager", "number": 50, "param": [["TargetAdress", "TargetAddress of L1 image on SDCard; 0 Start at &l1AppDefine", "0;0x100000", "uint32", "1", ""], ["DataSize", "", "0;0x100000", "uint32", "1", ""]], "desc": "Compute the CRC32 on SDCard Primary L1 image content between start_address and start_address+bytes_number to ground for verification (for patching)Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 8, "name": "computeCRC32OnL1SDSecRange", "pid": "l0memorymanager", "number": 51, "param": [["TargetAdress", "TargetAddress of L1 image on SDCard; 0 Start at &l1AppDefine", "0;0x100000", "uint32", "1", ""], ["DataSize", "", "0;0x100000", "uint32", "1", ""]], "desc": "Compute the CRC32 on SDCard Secondary L1 image content between start_address and start_address+bytes_numberto ground for verification (for patching)Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 1, "name": "computeCurrentL1CRC32", "pid": "l0memorymanager", "number": 52, "param": [["L1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROS", "1;3", "uint8", "1", ""]], "desc": "Compute the CRC32 on WHOLE L1 image for selected L1 source.This is used by ground segment for verification (check correct application of patch, and also check \"version\" of L1 currently loaded on satellite)Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 1, "name": "getFramExpectedL1CRC32", "pid": "l0memorymanager", "number": 55, "param": [["L1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROS", "1;3", "uint8", "1", ""]], "desc": "Get the expected CRC32 value of L1 for selected L1 source.This value is checked before allowing to load L1 on boot.This value is stored in FRAM.Returns Telemetry: CRC32"}, {"subsystem": "obc", "lparam": 5, "name": "setFramExpectedL1CRC32", "pid": "l0memorymanager", "number": 56, "param": [["L1Source", "L1 Image starts from &l1AppDefine to SDCARDMAXL1FILESIZE , unused space above L1 padded with ZEROS", "1;3", "uint8", "1", ""], ["ExpectedCRC32", "", "0;0xFFFFFFFF", "uint32", "4", ""]], "desc": "Set the expected CRC32 of L1 for selected L1 source.This value is checked before allowing to load L1 on boot.This value is stored in FRAM."}, {"subsystem": "obc", "lparam": 2, "name": "startPatch", "pid": "l0memorymanager", "number": 61, "param": [["NbOfSegments", "Total number of segments in the patch", "0;1024", "uint16", "1", ""]], "desc": "Initialize a L1 patch session and set the number of memory segments contained in the patch. The maximum allowed number of segments is 1024This function shall be called first before patching any memory segment"}, {"subsystem": "obc", "lparam": "*", "name": "pushMemSegment", "pid": "l0memorymanager", "number": 62, "param": [["patchId", "total size=8+n", "0;1024", "uint16", "1", ""], ["targetAdress", "Adress to be patched. Reference: 0=first byte of.bin file.Only adresses of L1 area are allowed to be patched.So the allowed patch adress range is: &l1AppDefine in .bin file until&l1AppDefine in .bin file + SDCARDMAXL1FILESIZE(1024*1024)", "0x0007FFFF;0x00180000", "uint32", "1", ""], ["dataSize", "", "0;170", "uint16", "1", ""], ["data", "Data (in*)", "*", "uint8", "*", ""]], "desc": "Send a memory segment to patch L1 between start_address and start_address+bytes_numberNote: This function only stores the memory segment in a SDRAM buffer when pushed. The effective writing in norflash will be performed by the command: WritePatchToNORFlashThe maximum size of data in Segment is 230 bytes"}, {"subsystem": "obc", "lparam": 0, "name": "getPatchState", "pid": "l0memorymanager", "number": 63, "param": [], "desc": "Get the status of patch sessionReturn telemetry"}, {"subsystem": "obc", "lparam": 0, "name": "getListIdReceivedSegments", "pid": "l0memorymanager", "number": 64, "param": [], "desc": "Get the list of segments ID currently received by the satelliteReturn telemetry"}, {"subsystem": "obc", "lparam": 0, "name": "getListIdMissingSegments", "pid": "l0memorymanager", "number": 65, "param": [], "desc": "Get the list of segments ID missing to perform the patch.Return telemetry"}, {"subsystem": "obc", "lparam": 5, "name": "validateAndWritePatch", "pid": "l0memorymanager", "number": 66, "param": [["L1Source", "", "1;3", "uint8", "1", "L1_STORAGE_SOURCE_NORFLASH_=_0x01,L1_STORAGE_SOURCE_SDCARD_PRI_=_0x02,L1_STORAGE_SOURCE_SDCARD_SEC_=_0x03,"], ["expectedCRC32AllDatas", "", "0;0xFFFFFFFF", "uint32", "1", ""]], "desc": "This function perform the writing of L1 image on source passed as parameter of the previously uploaded memory segmentsRun condition: If all segments are received and CRC32 on datas valid"}, {"subsystem": "obc", "lparam": 0, "name": "copyNorFlashToSdCardPri", "pid": "l0memorymanager", "number": 69, "param": [], "desc": "Copy L1 image from NORFlash to SdCardPri image file"}, {"subsystem": "obc", "lparam": 0, "name": "copyNorFlashToSdCardSec", "pid": "l0memorymanager", "number": 70, "param": [], "desc": "Copy L1 image from NORFlash to SdCardSec image file"}, {"subsystem": "obc", "lparam": 0, "name": "copySdCardPriToSec", "pid": "l0memorymanager", "number": 71, "param": [], "desc": "Copy L1 image from SdCardPri to SdCardSec image file"}, {"subsystem": "obc", "lparam": 0, "name": "copySdCardSecToPri", "pid": "l0memorymanager", "number": 72, "param": [], "desc": "Copy L1 image from SdCardSec to SdCardPri image file"}, {"subsystem": "obc", "lparam": "*", "name": "writeAnySDRAMRange", "pid": "l0memorymanager", "number": 46, "param": [["start_address", "", "0;0xFFFFFFFF", "uint32", "1", ""], ["bytes_number", "", "0;168", "uint32", "1", ""], ["data", "", "*", "uint8", "*", ""]], "desc": "Write the SDRAM content on any adress between start_address and start_address+bytes_number.Can be used to modify any variable value or buffer value with it's adress from map.txt"}, {"subsystem": "obc", "lparam": "*", "name": "writeFRAMRange", "pid": "l0memorymanager", "number": 47, "param": [["start_address", "", "0;0x3FFFF", "uint32", "1", ""], ["bytes_number", "", "0;168", "uint32", "1", ""], ["data", "", "*", "uint8", "*", ""]], "desc": "Write the FRAM content between start_address and start_address+bytes_numberWith a maximum data size of 212 bytes in a frame, the worst execution time will be around 300 ms"}]